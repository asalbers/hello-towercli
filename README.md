# My First Bundle

This is an empty bundle that porter has created to get you started!

# Usage

## prereqs

Install the mixin

```sh
porter mixin install towercli --url https://github.com/squillace/porter-towercli/releases/download --version v0.1.0
```

## Running the bundle

Supporting cli docs
[tower_cli docs](https://docs.ansible.com/ansible-tower/3.5.3/html/towerapi/tower_cli.html)

[tower_cli docs alt](https://tower-cli.readthedocs.io/en/latest/cli_ref/index.html)

### Setting credentials

User interactive cli to create the set and export to json for pipeline usage.

```sh
 porter credentials show tower-creds --output json > tower-creds.json
```

### Installing 

```sh
porter install towercli-test -c tower-creds -r ghcr.io/asalbers/hello-towercli:v0.1.0
```

Sample output

```sh
porter install tower-test -c ./tower-creds.json
installing tower-test...
executing install action from hello-towercli (installation: tower-test)
Creating and admin configuration....

# Options from environment variables.
username: *******
host: 127.0.0.1
password: *******

# Defaults.
verify_ssl: True
format: human
color: True
certificate:
use_token: False
description_on: False
insecure: False
oauth_token:
verbose: False

execution completed successfully!

```

# Contents

## porter.yaml

This is the porter manifest. See https://porter.sh/author-bundles/ for 
details on every field and how to configure your bundle. This is a required
file.

## helpers.sh

This is a bash script where you can place helper functions that you can call
from your porter.yaml file.

## README.md

This explains the files created by `porter create`. It is not used by porter and
can be deleted.

## Dockerfile.tmpl

This is a template Dockerfile for the bundle's invocation image. You can
customize it to use different base images, install tools and copy configuration
files. Porter will use it as a template and append lines to it for the mixin and to set
the CMD appropriately for the CNAB specification. You can delete this file if you don't
need it.

Add the following line to **porter.yaml** to enable the Dockerfile template:

```yaml
dockerfile: Dockerfile.tmpl
```

By default, the Dockerfile template is disabled and Porter automatically copies
all of the files in the current directory into the bundle's invocation image. When
you use a custom Dockerfile template, you must manually copy files into the bundle
using COPY statements in the Dockerfile template.

## .gitignore

This is a default file that we provide to help remind you which files are
generated by Porter, and shouldn't be committed to source control. You can
delete it if you don't need it.

## .dockerignore

This is a default file that controls which files are copied into the bundle's
invocation image by default. You can delete it if you don't need it.